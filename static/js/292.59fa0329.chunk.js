"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[292],{913:function(e,t,n){n.d(t,{Df:function(){return a},Op:function(){return u},TP:function(){return c},tx:function(){return s},zv:function(){return o}});var r=n(294).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"d820b0a1af251d95ab4309bc7eecf77f",language:"en-US"}}),a=function(){return r.get("/trending/movie/day")},u=function(e){return r.get("/search/movie?query=".concat(e))},c=function(e){return r.get("/movie/".concat(e))},o=function(e){return r.get("/movie/".concat(e,"/credits"))},s=function(e){return r.get("/movie/".concat(e,"/reviews"),{params:{page:1}})}},292:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r=n(433),a=n(861),u=n(439),c=n(757),o=n.n(c),s=n(689),i=n(87),f=n(184),l=function(e){var t=e.items,n=(0,s.TH)(),r=t.map((function(e){var t=e.id,r=e.title;return(0,f.jsx)("li",{children:(0,f.jsx)(i.rU,{to:"/movies/".concat(t),state:{from:n},children:r})},t)}));return(0,f.jsx)("ol",{children:r})},h=n(942),m=n(413),p=n(791),v="searchinput_form__G2nBo",d="searchinput_button__EFSXw",g="searchinput_button_label__EbsKI",x="searchinput_input__PAgmm",_=function(e){var t=e.onSubmit,n=(0,p.useState)({search:""}),r=(0,u.Z)(n,2),a=r[0],c=r[1],o=(0,p.useRef)(null);(0,p.useEffect)((function(){o.current.focus()}),[]);var s=(0,p.useMemo)((function(){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));e--;){var r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t}()}),[]);return(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t((0,m.Z)({},a)),c({search:""})},className:v,children:[(0,f.jsx)("button",{type:"submit",className:d,children:(0,f.jsx)("span",{className:g,children:"Search"})}),(0,f.jsx)("label",{htmlFor:s}),(0,f.jsx)("input",{id:s,ref:o,onChange:function(e){var t=e.target,n=t.name,r=t.value;c((0,m.Z)((0,m.Z)({},a),{},(0,h.Z)({},n,r)))},value:a.search,className:x,type:"text",name:"search",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})]})},b=n(913),j={},S=function(){var e=(0,p.useState)([]),t=(0,u.Z)(e,2),n=t[0],c=t[1],s=(0,p.useState)(!1),h=(0,u.Z)(s,2),m=h[0],v=h[1],d=(0,p.useState)(null),g=(0,u.Z)(d,2),x=g[0],S=g[1],Z=(0,i.lr)(),k=(0,u.Z)(Z,2),w=k[0],y=k[1],C=w.get("search");(0,p.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,(0,b.Op)(C);case 4:t=e.sent,n=t.data.results,c((function(e){return null!==n&&void 0!==n&&n.length?[].concat((0,r.Z)(e),(0,r.Z)(n)):e})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S(e.t0.message);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();C&&e()}),[C]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(_,{onSubmit:function(e){var t=e.search;y({search:t}),c([])}}),x&&(0,f.jsx)("p",{className:j.error,children:x}),m&&(0,f.jsx)("p",{children:"...Loading"}),Boolean(n.length)&&(0,f.jsx)(l,{items:n})]})},Z=function(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(S,{})})}}}]);
//# sourceMappingURL=292.59fa0329.chunk.js.map